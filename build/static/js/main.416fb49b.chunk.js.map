{"version":3,"sources":["services/Persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Header","type","text","Notification","notificationMessage","message","notificationStyle","color","error","background","fontSize","borderStyle","borderRadius","padding","marginBottom","display","style","InputForm","label","name","value","onChange","Number","person","removePerson","number","className","href","onClick","Filter","filter","handleFilterChange","PersonForm","onSubmit","Persons","persons","nameFilter","toLowerCase","includes","map","key","App","useState","setPersons","newPerson","setNewPerson","setFilter","setNotificationMessage","useEffect","personService","initialPersons","createNotification","setTimeout","event","target","preventDefault","length","returnedPerson","window","confirm","concat","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.416fb49b.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => (\n    axios.get(baseUrl).then(response => response.data)\n)\n\nconst create = newObject => (\n    axios.post(baseUrl, newObject).then(response => response.data)\n)\n\nconst update = (id, newObject) => (\n    axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n)\n\nconst remove = (id) => (\n    axios.delete(`${baseUrl}/${id}`)\n)\n\nexport default {\n    getAll, create, update, remove\n}","import React, { useState, useEffect } from 'react'\nimport personService from './services/Persons'\nimport './App.css'\n\nconst Header = ({ type, text }) => (\n  type > 2 ? <h3>{text}</h3> : <h2>{text}</h2>\n)\n\nconst Notification = ({ notificationMessage }) => {\n  const { message, error } = notificationMessage\n\n  const notificationStyle = {\n    color: (error ? 'red' : 'green'),\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px',\n  }\n\n  if (!message) {\n    notificationStyle.display = 'none'\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst InputForm = ({ label, name, value, onChange }) => (\n  <div>{label} <input type='text' name={name} value={value} onChange={onChange}></input></div>\n)\n\nconst Number = ({ person, removePerson }) => {\n  const { id, name, number } = person\n  return (\n    <div>\n      <a className=\"person\" href={`api/persons/${id}`}>{name} {number} </a>\n      <button onClick={removePerson}>delete</button>\n    </div>\n  )\n}\n\nconst Filter = ({ filter, handleFilterChange }) => (\n  <InputForm label='filter shown with' name='filter' value={filter} onChange={handleFilterChange} />\n)\n\nconst PersonForm = ({ onSubmit, value, onChange }) => (\n  <form onSubmit={onSubmit}>\n    <div>\n      <InputForm label='name:' name='name' value={value.name} onChange={onChange} />\n      <InputForm label='number:' name='number' value={value.number} onChange={onChange} />\n    </div>\n    <div>\n      <button type='submit'>add</button>\n    </div>\n  </form>\n)\n\nconst Persons = ({ persons, nameFilter, removePerson }) => (\n  <div>\n    {persons.filter(person =>\n      person.name.toLowerCase().includes(nameFilter.toLowerCase())).map((person) =>\n        (<Number key={person.name} person={person} removePerson={() => removePerson(person.id)} />))}\n  </div>\n)\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newPerson, setNewPerson] = useState({ name: '', number: '' })\n  const [filter, setFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState([])\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const handleInputChange = (event) => setNewPerson({ ...newPerson, [event.target.name]: event.target.value })\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  const isNewName = (name) => persons.filter(person => person.name === name).length === 0\n\n\n  const createNotification = message => {\n    setNotificationMessage(message)\n    setTimeout(() => setNotificationMessage([]), 2000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (newPerson.name.length === 0)\n      createNotification({ message: `Name cannot be empty.`, error: true })\n    else if (isNewName(newPerson.name)) {\n      personService.create(newPerson).then(returnedPerson => {\n        setPersons([...persons, returnedPerson])\n        createNotification({ message: `Added ${newPerson.name}.`, error: false })\n      })\n    }\n    else {\n      if (window.confirm(`${newPerson.name} is already added to phonebook, replace the old number with a new one?`))\n        personService.update(persons.filter(person => person.name === newPerson.name)[0].id, newPerson).then(returnedPerson => {\n          setPersons(persons.filter(person => person.id !== returnedPerson.id).concat(returnedPerson))\n          createNotification({ message: `Updated ${newPerson.name}.`, error: false })\n        }).catch(error => {\n          // setPersons(persons.filter(person => person.name !== newPerson.name))\n          createNotification({ message: `Unable to edit ${newPerson.name}.`, error: true })\n        })\n    }\n    setNewPerson({ name: '', number: '' })\n  }\n\n  const removePerson = (id) => {\n    const person = persons.filter((person) => person.id === id)[0]\n\n    if (!person)\n      createNotification({ message: `Person not found.`, error: true })\n    else {\n      if (window.confirm(`Delete '${person.name}' ?`)) {\n        personService.remove(id).catch(error => {\n          createNotification({ message: `${person.name} not found on server.`, error: true })\n        })\n        setPersons(persons.filter(person => person.id !== id))\n        createNotification({ message: `${person.name} removed.`, error: false })\n      }\n    }\n  }\n\n  return (\n    <div>\n      <Header type={2} text='Phonebook' />\n      <Notification notificationMessage={notificationMessage} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <Header type={3} text='Add a new' />\n      <PersonForm onSubmit={addPerson} value={newPerson} onChange={handleInputChange} />\n      <Header type={3} text='Numbers' />\n      <Persons persons={persons} nameFilter={filter} removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}